<html>
<head>
<script>
function send() {
  // Get the form data
  const number = document.getElementById('number').value;
  const message = document.getElementById('message').value;
  // Send a POST request to the API with the form data
  const host = window.location.host; 
  const url = 'http://' + host + '/api/gateway';
 
  var xhr = new XMLHttpRequest();
  xhr.open('POST', url, true);
  xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
  xhr.onload = function() {
    if (xhr.status === 200) {
      document.getElementById('response').innerHTML = "message has been sent " + Date();
    }
    else {
      document.getElementById('response').innerHTML = "error " + Date();
    }
  };
  xhr.send('number=' + number + '&message=' + message);
}
</script>
</head>
<body>
<label for="number">Number:</label><br>
<input type="tel" id="number" name="number"><br>
<label for="message">Message:</label><br>
<textarea id="message" name="message"></textarea><br>
<button type="button" onclick="send()">Send</button>
<p id="response"></p>
</body>
</html>